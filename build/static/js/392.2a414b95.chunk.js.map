{"version":3,"file":"static/js/392.2a414b95.chunk.js","mappings":"0QAiBMA,GAAYC,EAAAA,EAAAA,IAAW,iBAAO,CAClCC,KAAM,CAEJC,WAAY,YAsIhB,WAAeC,EAAAA,EAAAA,KAfS,SAACC,GACvB,MAAO,CACLC,YAAaD,EAAME,IAAIC,OACvBC,WAAYJ,EAAMK,KAAKC,MACvBC,iBAAkBP,EAAMQ,SAASC,gBAIV,SAACC,GAC1B,MAAO,CACLC,mBAAoB,SAACC,EAAMC,GAAP,OAClBH,GAASI,EAAAA,EAAAA,IAAgBF,EAAMC,QAIrC,EA9HgB,SAACE,GACf,IAAQd,EACNc,EADMd,YAAaM,EACnBQ,EADmBR,iBAAkBI,EACrCI,EADqCJ,mBAAoBP,EACzDW,EADyDX,WAErDY,EAAUrB,IACVsB,GAAWC,EAAAA,EAAAA,MACjB,GAAgCC,EAAAA,EAAAA,WAAS,GAAzC,eAAOC,EAAP,KAAiBC,EAAjB,KACA,EAAgCC,EAAAA,UAAe,GAA/C,eAAOC,EAAP,KAAiBC,EAAjB,KACA,EAAgCF,EAAAA,SAAe,CAC7CG,MAAM,EACNC,QAAS,KAFX,eAAOC,EAAP,KAAiBC,EAAjB,KA0BA,OACE,iCACE,SAAC,KAAD,CACEH,KAAMF,EACNM,QAASL,EACTM,MAAO,qBACPC,SAAU,GACVC,IAAKC,EACLC,SAAU,kBAAMjB,EAAS,aAE3B,SAAC,KAAD,CACEQ,KAAME,EAASF,KACfI,QAAS,SAACJ,GAAD,OAAUG,GAAY,kBAAKD,GAAN,IAAgBF,KAAMA,MACpDK,MAAO,SACPC,SAAUJ,EAASD,QACnBM,IAAKG,EACLD,UAAW9B,GAhCD,WACda,EAAS,cAiCP,SAAC,IAAD,CAAWmB,UAAWpB,EAAQnB,KAA9B,UACE,UAAC,IAAD,CAAOwC,QAAS,EAAhB,WACE,SAAC,KAAD,CACEC,KAAK,OACLR,MACkB,cAAhB7B,EAA8B,aAAe,kBAE/CsC,MAAO,WACLtB,GAAU,OAGd,4BACE,SAAC,IAAD,CAAYuB,QAAQ,YAApB,SACmB,cAAhBvC,EACG,6BACA,yBAEN,SAAC,KAAD,CACE6B,MAAM,OACNW,MAAM,GACNrB,SAAuB,SAAbA,EACVsB,UAAU,EACVC,QAAS,kBAAMtB,EAAY,eAG/B,4BACE,SAAC,IAAD,CAAYmB,QAAQ,YAApB,SACmB,cAAhBvC,EACG,qBACA,sBAEN,SAAC,KAAD,CACE6B,MAAuB,cAAhB7B,EAA8B,OAAS,SAC9CwC,MAAM,GACNrB,SAAuB,SAAbA,EACVsB,UAAU,EACVC,QAAS,kBAAMtB,EAAY,eAG7BD,IACA,SAAC,IAAD,CAAYoB,QAAQ,QAAQI,MAAM,MAAlC,SACmB,cAAhB3C,EACG,wBACA,4BAGR,+BACE,SAAC,KAAD,CACE4C,WAAW,aACXP,KAAK,gBACLI,UAAWtB,EACX0B,MAAOvC,EAAiBuC,MACxBjC,OAnFc,WACxB,OAAOF,EACL,CACEoC,WAAYxC,EAAiByC,QAAQC,QACrCC,QAAS3C,EAAiB2C,QAC1BC,UAAW5C,EAAiB6C,OAAOC,QAErC,CACEC,QAAS,kBAAM9B,GAAY,IAC3B+B,OAAQ,SAACC,GAAD,OAlBK,SAACA,GAClB5B,EAAY,CACVH,MAAM,EACNC,QAAS8B,IAeUC,CAAWD","sources":["pages/Payment/index.js"],"sourcesContent":["import Stack from \"@mui/material/Stack\";\r\nimport Container from \"@mui/material/Container\";\r\nimport Typography from \"@mui/material/Typography\";\r\nimport React, { useState } from \"react\";\r\nimport {\r\n  BottomPayment,\r\n  ModalNotification,\r\n  PaymentCard,\r\n  TopNav,\r\n} from \"../../components\";\r\nimport makeStyles from \"@mui/styles/makeStyles\";\r\nimport TotalPayment from \"../../components/BottomPayment\";\r\nimport failedImg from \"../../assets/hand_fail.png\";\r\nimport succImg from \"../../assets/hand_succ.png\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport { makeAppointment } from \"../../redux/actions\";\r\nconst useStyles = makeStyles(() => ({\r\n  root: {\r\n    // padding: \"0 12px\",\r\n    paddingTop: \"16px\",\r\n    // display: \"flex\",\r\n    // justifyContent: \"space-between\",\r\n    // alignItems: \"center\",\r\n    // borderRadius: \"6px\",\r\n  },\r\n}));\r\n\r\nconst Payment = (props) => {\r\n  const { stateBahasa, stateAppointment, actMakeAppointment, stateToken } =\r\n    props;\r\n  const classes = useStyles();\r\n  const navigate = useNavigate();\r\n  const [selected, setSelected] = useState(false);\r\n  const [openSucc, setOpenSucc] = React.useState(false);\r\n  const [openFail, setOpenFail] = React.useState({\r\n    open: false,\r\n    message: \"\",\r\n  });\r\n  const handleFail = (msg) => {\r\n    setOpenFail({\r\n      open: true,\r\n      message: msg,\r\n    });\r\n  };\r\n  const toLogin = () => {\r\n    navigate(\"/login\");\r\n  };\r\n  const handleAppointment = () => {\r\n    return actMakeAppointment(\r\n      {\r\n        id_layanan: stateAppointment.layanan.id_poli,\r\n        tanggal: stateAppointment.tanggal,\r\n        doctor_id: stateAppointment.dokter.peg_id,\r\n      },\r\n      {\r\n        success: () => setOpenSucc(true),\r\n        failed: (msg) => handleFail(msg),\r\n      }\r\n    );\r\n  };\r\n  return (\r\n    <>\r\n      <ModalNotification\r\n        open={openSucc}\r\n        setOpen={setOpenSucc}\r\n        title={\"Berhasil Mendaftar\"}\r\n        subtitle={\"\"}\r\n        img={succImg}\r\n        actAbort={() => navigate(\"/home\")}\r\n      />\r\n      <ModalNotification\r\n        open={openFail.open}\r\n        setOpen={(open) => setOpenFail({ ...openFail, open: open })}\r\n        title={\"Failed\"}\r\n        subtitle={openFail.message}\r\n        img={failedImg}\r\n        actAbort={!stateToken && toLogin}\r\n      />\r\n      <Container className={classes.root}>\r\n        <Stack spacing={2}>\r\n          <TopNav\r\n            type=\"back\"\r\n            title={\r\n              stateBahasa === \"indonesia\" ? \"Buat Janji\" : \"Make Apointment\"\r\n            }\r\n            click={() => {\r\n              navigate(-1);\r\n            }}\r\n          />\r\n          <div>\r\n            <Typography variant=\"subtitle2\">\r\n              {stateBahasa === \"indonesia\"\r\n                ? \"Penanggung yang dianjurkan\"\r\n                : \"Suggested Assurance\"}\r\n            </Typography>\r\n            <PaymentCard\r\n              title=\"BPJS\"\r\n              price=\"\"\r\n              selected={selected === \"bpjs\"}\r\n              disabled={false}\r\n              onclick={() => setSelected(\"bpjs\")}\r\n            />\r\n          </div>\r\n          <div>\r\n            <Typography variant=\"subtitle2\">\r\n              {stateBahasa === \"indonesia\"\r\n                ? \"Penanggung lainnya\"\r\n                : \"Others Assurance\"}\r\n            </Typography>\r\n            <PaymentCard\r\n              title={stateBahasa === \"indonesia\" ? \"Umum\" : \"Public\"}\r\n              price=\"\"\r\n              selected={selected === \"umum\"}\r\n              disabled={false}\r\n              onclick={() => setSelected(\"umum\")}\r\n            />\r\n          </div>\r\n          {!selected && (\r\n            <Typography variant=\"body2\" color=\"red\">\r\n              {stateBahasa === \"indonesia\"\r\n                ? \"*Mohon isi penanggung\"\r\n                : \"*Select your assurance\"}\r\n            </Typography>\r\n          )}\r\n          <>\r\n            <BottomPayment\r\n              textAction=\"Buat Janji\"\r\n              type=\"total_payment\"\r\n              disabled={!selected}\r\n              total={stateAppointment.total}\r\n              action={handleAppointment}\r\n            />\r\n          </>\r\n        </Stack>\r\n      </Container>\r\n    </>\r\n  );\r\n};\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    stateBahasa: state.app.bahasa,\r\n    stateToken: state.auth.token,\r\n    stateAppointment: state.register.appointment,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    actMakeAppointment: (body, action) =>\r\n      dispatch(makeAppointment(body, action)),\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Payment);\r\n"],"names":["useStyles","makeStyles","root","paddingTop","connect","state","stateBahasa","app","bahasa","stateToken","auth","token","stateAppointment","register","appointment","dispatch","actMakeAppointment","body","action","makeAppointment","props","classes","navigate","useNavigate","useState","selected","setSelected","React","openSucc","setOpenSucc","open","message","openFail","setOpenFail","setOpen","title","subtitle","img","succImg","actAbort","failedImg","className","spacing","type","click","variant","price","disabled","onclick","color","textAction","total","id_layanan","layanan","id_poli","tanggal","doctor_id","dokter","peg_id","success","failed","msg","handleFail"],"sourceRoot":""}