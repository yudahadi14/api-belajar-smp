"use strict";(self.webpackChunkweb_rsudck=self.webpackChunkweb_rsudck||[]).push([[597],{6597:function(a,e,n){n.r(e),n.d(e,{default:function(){return G}});var t=n(4942),i=n(1413),r=n(885),s=n(2791),o=n(3767),l=n(829),d=n(8096),u=n(5022),m=n(4377),p=n(7391),c=n(6151),g=n(6445),h=n(9752),k=n(4454),f=n(5523),j=n(9012),x=n(7133),I=n(1419),Z=n(8970),y=n(890),v=n(2426),b=n.n(v),D=n(1522),K=n(6871),T=n(2455),_=n(364),C=n(8552),P=n(4819),L=n.n(P),S={produkId:L().string().empty().messages({"string.empty":"Pilih jenis vaksinasi."}),jenisId:L().string().empty().messages({"string.empty":"Isi Jenis identitas anda."}),jenisIdnomor:L().string().empty().min(6).messages({"string.empty":"Isi nomor identitas anda.","string.min":"Identitas min 6 karakter."}),namaLengkap:L().string().empty().min(3).messages({"string.empty":"Isi nama lengkap anda.","string.min":"Nama lengkap min 3 karakter."}),tempatLahir:L().string().empty().min(3).messages({"string.empty":"Isi tempat kelahiran anda.","string.min":"tempat kelahiran min 3 karakter."}),tglLahir:L().string().empty().messages({"string.empty":"Isi tanggal kelahiran anda."}),jenisKelamin:L().string().empty().messages({"string.empty":"Isi jenis kelamin anda."}),propinsi:L().string().empty().min(3).messages({"string.empty":"Isi propinsi anda.","string.min":"propinsi min 3 karakter."}),kotaDati:L().string().empty().min(3).messages({"string.empty":"Isi kotamadya anda.","string.min":"kotamadya min 3 karakter."}),kecamatan:L().string().empty().min(3).messages({"string.empty":"Isi alamat anda.","string.min":"alamat min 3 karakter."}),kelurahan:L().string().empty().min(3).messages({"string.empty":"Isi alamat anda.","string.min":"alamat min 3 karakter."}),alamat:L().string().empty().min(3).messages({"string.empty":"Isi kotamadya anda.","string.min":"alamat min 3 karakter."}),rt:L().string().empty().messages({"string.empty":"Isi rt anda."}),rw:L().string().empty().messages({"string.empty":"Isi rw anda."}),alamatDomisili:L().string().empty().min(3).messages({"string.empty":"Isi alamat anda.","string.min":"alamat min 3 karakter."}),kodePos:L().string().empty().min(3).messages({"string.empty":"Isi kodepos anda.","string.min":"kodepos min 3 karakter."}),noTelpon:L().string().empty().min(10).messages({"string.empty":"Isi noTelpon anda.","string.min":"noTelpon min 10 karakter."}),agama:L().any().empty().messages({"any.empty":"Isi agama anda."}),tglKunjungan:L().any().empty().messages({"any.empty":"Isi tanggal kunjugan anda."}),statusNikah:L().any().allow(null,"")};function w(a,e){return!S[a]||L().object({field:S[a]}).validate({field:e})}var N=n(184),q=(0,T.Z)((function(){return{root:{padding:"16px 0"},langContainer:{padding:"16px 0",overflowX:"hidden"},dialogImg:{height:"250px",width:"auto"}}})),G=(0,_.$j)((function(a){return{stateProduk:a.master.produk,stateIdentitas:a.auth.identitas,stateAgama:a.master.agama,stateJenisID:a.master.jenisIdentitas,stateStatusNikah:a.master.statusNikah,stateRegVaksin:a.register.vaksin,stateError:a.app.error,statePropinsi:a.master.propinsi,stateKotamadya:a.master.kotamadya,stateKecamatan:a.master.kecamatan,stateKelurahan:a.master.kelurahan,stateBahasa:a.app.bahasa}}),(function(a){return{actResetVaksin:function(){return a((0,C.XT)())},actResetIdentitas:function(){return a((0,C.M0)())},actGetIdentitas:function(e){return a((0,C.uK)(e))},actSetFormVaksin:function(e){return a((0,C.KX)(e))},actSetIdentitas:function(e){return a((0,C.Pn)(e))},actGetProduk:function(e){return a((0,C.tn)(e))},actGetAgama:function(e){return a((0,C.r3)(e))},actGetJenisID:function(e){return a((0,C.LT)(e))},actGetStatusNikah:function(e){return a((0,C.Dz)(e))},actRegisterVaksin:function(e,n){return a((0,C.xZ)(e,n))},actGetPropinsi:function(e){return a((0,C.Xz)(e))},actGetKotamadya:function(e){return a((0,C.Ax)(e))},actGetKecamatan:function(e){return a((0,C.Nf)(e))},actGetKelurahan:function(e){return a((0,C.MZ)(e))}}}))((function(a){var e=a.stateBahasa,n=a.actGetAgama,v=a.actGetJenisID,T=a.actGetStatusNikah,_=a.stateAgama,C=a.stateStatusNikah,P=a.stateJenisID,G=a.stateError,V=a.actRegisterVaksin,W=a.actGetProduk,R=a.stateProduk,M=a.statePropinsi,Y=a.stateKotamadya,A=a.stateKecamatan,J=a.stateKelurahan,B=a.actSetFormVaksin,F=a.stateRegVaksin,E=a.actResetVaksin,X=a.actSetIdentitas,z=a.stateIdentitas,O=a.actGetIdentitas,Q=a.actResetIdentitas,$=a.actGetPropinsi,H=a.actGetKotamadya,U=a.actGetKecamatan,aa=a.actGetKelurahan,ea=z.jenisId,na=z.jenisIdnomor,ta=z.namaLengkap,ia=z.tempatLahir,ra=z.tglLahir,sa=z.jenisKelamin,oa=z.alamat,la=z.rt,da=z.rw,ua=z.kelurahan,ma=z.kecamatan,pa=z.kotaDati,ca=z.kodePos,ga=z.propinsi,ha=z.noTelpon,ka=z.agama,fa=z.statusNikah,ja=z.alamatDomisili,xa=F.produkId,Ia=F.tglKunjungan,Za=q(),ya=s.useState(!1),va=(0,r.Z)(ya,2),ba=(va[0],va[1],s.useState(!1)),Da=(0,r.Z)(ba,2),Ka=Da[0],Ta=Da[1],_a=s.useState(""),Ca=(0,r.Z)(_a,2),Pa=Ca[0],La=Ca[1],Sa=s.useState(!1),wa=(0,r.Z)(Sa,2),Na=wa[0],qa=wa[1],Ga=s.useState({jenisId:"",produkId:"",jenisIdnomor:"",namaLengkap:"",tempatLahir:"",tglLahir:"",jenisKelamin:"",alamat:"",rt:"",rw:"",kelurahan:"",kecamatan:"",kotaDati:"",kodePos:"",propinsi:"",noTelpon:"",agama:"",statusNikah:"",alamatDomisili:"",tglKunjungan:""}),Va=(0,r.Z)(Ga,2),Wa=Va[0],Ra=Va[1],Ma=s.useState(!0),Ya=(0,r.Z)(Ma,2),Aa=(Ya[0],Ya[1],(0,K.s0)());s.useEffect((function(){G&&Aa("/exception-handling")}),[G]),s.useEffect((function(){n(),v(),T(),W(),$()}),[]);var Ja=function(a,e){var n=a.target,r=n.name,s=n.id,o=n.value,l=w(r||s,o).error;Ra((0,i.Z)((0,i.Z)({},Wa),{},(0,t.Z)({},r||s,l?"*"+l.message:""))),"identitas"===e?X({key:r||s,value:o}):B({key:r||s,value:o})},Ba=function(a){var e=a.name,n=a.id,r=a.value,s=w(e,r).error;switch(e){case"propinsi":H(n);break;case"kotaDati":U(n);break;case"kecamatan":aa(n)}Ra((0,i.Z)((0,i.Z)({},Wa),{},(0,t.Z)({},e,s?"*"+s.message:""))),X({key:e,value:r})},Fa=s.useState(!1),Ea=(0,r.Z)(Fa,2),Xa=Ea[0],za=Ea[1];return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsxs)(D.IC,{open:Na,buttonText:"Close",noClose:!0,children:[(0,N.jsx)(y.Z,{variant:"subtitle2",align:"center",children:"Berhasil Mendaftar!."}),(0,N.jsx)(D.S2,{barcode:na,action:function(){Q(),qa(!1)}})]}),(0,N.jsx)(D.QA,{setOpen:La,type:"error",title:Pa,open:!!Pa}),(0,N.jsx)(g.Z,{className:Za.root,children:(0,N.jsxs)(o.Z,{spacing:2,children:[(0,N.jsx)(D.tD,{type:"back",title:"indonesia"===e?"Daftar Vaksin":"Register Vaccination",click:function(){return Aa(-1)}}),(0,N.jsxs)(d.Z,{fullWidth:!0,required:!0,error:!!Wa.produkId,children:[(0,N.jsx)(l.Z,{id:"produkId",children:"indonesia"===e?"Jenis Vaksin":"Vaccine Type"}),(0,N.jsx)(m.Z,{labelId:"produkId",id:"produkId",name:"produkId",value:xa,onChange:function(a){return Ja(a,"vaksin")},children:R&&R.map((function(a,e){return(0,N.jsx)(u.Z,{value:a.ref_prod_id.toString(),children:a.ref_prod_nama},"vaksin"+e)}))})]}),(0,N.jsxs)(d.Z,{fullWidth:!0,required:!0,error:!!Wa.jenisId,children:[(0,N.jsx)(l.Z,{id:"jenisId",children:"indonesia"===e?"Jenis Identitas":"Identity Type"}),(0,N.jsx)(m.Z,{labelId:"jenisId",id:"jenisId",name:"jenisId",value:ea,onChange:function(a){return Ja(a,"identitas")},children:P&&P.map((function(a){return(0,N.jsx)(u.Z,{value:a.ref_jki_id.toString(),children:a.ref_jki_ket},"jenisID"+a.ref_jki_id)}))})]}),(0,N.jsx)(p.Z,{id:"jenisIdnomor",name:"jenisIdnomor",label:"indonesia"===e?"No Identitas":"Identity Number",required:!0,error:!!Wa.jenisIdnomor,value:na,onChange:function(a){return Ja(a,"identitas")},onBlur:function(){"1"===ea&&16===na.length&&O(na)},helperText:Wa.jenisIdnomor}),(0,N.jsx)(p.Z,{id:"namaLengkap",name:"namaLengkap",label:"indonesia"===e?"Nama Lengkap":"Fullname",required:!0,value:ta,error:!!Wa.namaLengkap,onChange:function(a){return Ja(a,"identitas")},helperText:Wa.namaLengkap}),(0,N.jsx)(p.Z,{id:"tempatLahir",name:"tempatLahir",label:"indonesia"===e?"Tempat Lahir":"Birthplace",required:!0,value:ia,onChange:function(a){return Ja(a,"identitas")},error:!!Wa.tempatLahir,helperText:Wa.tempatLahir}),(0,N.jsx)(p.Z,{id:"tglLahir",name:"tglLahir",label:"indonesia"===e?"Tanggal Lahir":"Birthdate",required:!0,InputLabelProps:{shrink:!0},inputProps:{max:b()().format("YYYY-MM-DD")},type:"date",value:ra,onChange:function(a){return Ja(a,"identitas")},error:!!Wa.tglLahir,helperText:Wa.tglLahir}),(0,N.jsxs)(d.Z,{required:!0,error:!!Wa.jenisKelamin,children:[(0,N.jsx)(x.Z,{id:"jenisKelamin",children:"indonesia"===e?"Jenis Kelamin":"Gender"}),(0,N.jsxs)(Z.Z,{row:!0,"aria-labelledby":"jeniKelamin",id:"jenisKelamin",name:"jenisKelamin",value:sa,onChange:function(a){return Ja(a,"identitas")},children:[(0,N.jsx)(f.Z,{value:"1",control:(0,N.jsx)(I.Z,{}),label:"indonesia"===e?"Pria":"Male"}),(0,N.jsx)(f.Z,{value:"2",control:(0,N.jsx)(I.Z,{}),label:"indonesia"===e?"Perempuan":"Female"})]})]}),(0,N.jsx)(h.Z,{id:"propinsi",name:"propinsi",freeSolo:!0,value:ga,onChange:function(a,e){return Ba({name:"propinsi",value:e.label,id:e.id})},inputValue:ga,onInputChange:function(a,e){return Ja({target:{name:"propinsi",value:e}},"identitas")},options:M.map((function(a){return{id:a.ref_propinsi_id,label:a.ref_propinsi_nama}})),renderInput:function(a){return(0,N.jsx)(p.Z,(0,i.Z)((0,i.Z)({},a),{},{fullWidth:!0,label:"indonesia"===e?"Provinsi":"Province",required:!0,helperText:Wa.propinsi,error:!!Wa.propinsi}))}}),(0,N.jsx)(h.Z,{id:"kotaDati",name:"kotaDati",freeSolo:!0,inputValue:pa,onInputChange:function(a,e){Ja({target:{name:"kotaDati",value:e}},"identitas")},value:pa,onChange:function(a,e){return Ba({name:"kotaDati",value:e.label,id:e.id})},options:Y.map((function(a){return{id:a.ref_kotadati2_id,label:a.ref_kotadati2_nama}})),renderInput:function(a){return(0,N.jsx)(p.Z,(0,i.Z)((0,i.Z)({},a),{},{fullWidth:!0,label:"indonesia"===e?"Kotamadya / Dati II":"Regency",required:!0,helperText:Wa.kotaDati,error:!!Wa.kotaDati}))}}),(0,N.jsx)(h.Z,{id:"kecamatan",name:"kecamatan",freeSolo:!0,inputValue:ma,onInputChange:function(a,e){Ja({target:{name:"kecamatan",value:e}},"identitas")},value:ma,onChange:function(a,e){return Ba({name:"kecamatan",value:e.label,id:e.id})},options:A.map((function(a){return{id:a.ref_kcamatan_id,label:a.ref_kcamatan_nama}})),renderInput:function(a){return(0,N.jsx)(p.Z,(0,i.Z)((0,i.Z)({},a),{},{fullWidth:!0,label:"indonesia"===e?"Kecamatan":"Country",required:!0,helperText:Wa.kecamatan,error:!!Wa.kecamatan}))}}),(0,N.jsx)(h.Z,{id:"kelurahan",name:"kelurahan",freeSolo:!0,inputValue:ua,onInputChange:function(a,e){Ja({target:{name:"kelurahan",value:e}},"identitas")},value:ua,onChange:function(a,e){return Ba({name:"kelurahan",value:e.label,id:e.id})},options:J.map((function(a){return{id:a.ref_klurahan_id,label:a.ref_klurahan_nama}})),renderInput:function(a){return(0,N.jsx)(p.Z,(0,i.Z)((0,i.Z)({},a),{},{fullWidth:!0,label:"indonesia"===e?"Kelurahan":"Subdistrict",required:!0,helperText:Wa.kelurahan,error:!!Wa.kelurahan}))}}),(0,N.jsx)(p.Z,{fullWidth:!0,id:"kodePos",name:"kodePos",label:"indonesia"===e?"Kode Pos":"Post Code",required:!0,value:ca,onChange:function(a){return Ja(a,"identitas")},helperText:Wa.kodePos,error:!!Wa.kodePos}),(0,N.jsx)(p.Z,{fullWidth:!0,id:"alamat",name:"alamat",label:"indonesia"===e?"Alamat Sesuai Identitas":"Address ID",required:!0,value:oa,onChange:function(a){return Ja(a,"identitas")},helperText:Wa.alamat,error:!!Wa.alamat}),(0,N.jsx)("div",{children:(0,N.jsxs)(o.Z,{direction:"row",spacing:2,children:[(0,N.jsx)(p.Z,{fullWidth:!0,id:"rt",name:"rt",label:"RT",required:!0,value:la,onChange:function(a){return Ja(a,"identitas")},helperText:Wa.rw,error:!!Wa.rt}),(0,N.jsx)(p.Z,{fullWidth:!0,id:"rw",name:"rw",label:"RW",required:!0,value:da,onChange:function(a){return Ja(a,"identitas")},helperText:Wa.rw,error:!!Wa.rw})]})}),(0,N.jsxs)(o.Z,{children:[(0,N.jsx)(p.Z,{id:"alamatDomisili",name:"alamatDomisili",label:"indonesia"===e?"Alamat Domisili":"Current Address",required:!0,error:!!Wa.alamatDomisili,value:ja,disabled:Ka,onChange:function(a){return Ja(a,"identitas")},helperText:Wa.alamatDomisili}),(0,N.jsx)(j.Z,{children:(0,N.jsx)(f.Z,{control:(0,N.jsx)(k.Z,{checked:Ka,onChange:function(){Ta(!Ka),X({key:"alamatDomisili",value:oa})}}),label:"indonesia"===e?"Sama dengan alamat KTP":"Same as ID address"})})]}),(0,N.jsx)(o.Z,{direction:"row",spacing:2,children:(0,N.jsx)(D.t7,{id:"noTelpon",name:"noTelpon",label:"indonesia"===e?"No Telp 1":"Phone Number 1",fullWidth:!0,required:!0,value:ha,onChange:function(a){return Ja(a,"identitas")},helperText:Wa.noTelpon,className:Za.inputPhone,inputType:"phone-number",error:!!Wa.noTelpon})}),(0,N.jsxs)(d.Z,{fullWidth:!0,required:!0,children:[(0,N.jsx)(l.Z,{id:"agama",children:"indonesia"===e?"Agama":"Religion"}),(0,N.jsx)(m.Z,{labelId:"agama",id:"agama",name:"agama",value:ka,onChange:function(a){return Ja(a,"identitas")},children:_&&_.map((function(a){return(0,N.jsx)(u.Z,{value:a.ref_agama_id,children:a.ref_agama_ket},"agama"+a.ref_agama_id)}))})]}),(0,N.jsxs)(d.Z,{fullWidth:!0,required:!0,children:[(0,N.jsx)(l.Z,{id:"agama",children:"indonesia"===e?"Status Pernikahan":"Marital Status"}),(0,N.jsx)(m.Z,{labelId:"statusNikah",id:"statusNikah",name:"statusNikah",value:fa,onChange:function(a){return Ja(a,"identitas")},children:C&&C.map((function(a){return(0,N.jsx)(u.Z,{value:a.stat_id,children:a.stat_ket},"jenisID"+a.stat_id)}))})]}),(0,N.jsx)(p.Z,{id:"tglKunjungan",name:"tglKunjungan",label:"indonesia"===e?"Tanggal Kunjungan":"Visit Date",required:!0,InputLabelProps:{shrink:!0},inputProps:{min:b()().add(1,"days").format("YYYY-MM-DD"),max:b()().add(3,"days").format("YYYY-MM-DD")},type:"date",value:Ia,onChange:function(a){return Ja(a,"vaksin")},error:!!Wa.tglKunjungan,helperText:Wa.tglKunjungan}),(0,N.jsx)(c.Z,{variant:"contained",onClick:function(){var a,e=(0,i.Z)((0,i.Z)({},F),{},{jenisId:ea,jenisIdnomor:na,namaLengkap:ta,tempatLahir:ia,tglLahir:ra,jenisKelamin:sa,alamatDomisili:ja,alamat:oa,rt:la,rw:da,kelurahan:ua,kecamatan:ma,kotaDati:pa,kodePos:ca,noTelpon:ha,agama:ka,statusNikah:fa,propinsi:ga}),n=(a=e,L().object(S).validate(a));if(za(!0),!n.error)return V(e,{success:function(){E(),qa(!0),za(!1)},failed:function(a){La(a),za(!1)}});if(n.error.details[0].context&&n.error.details[0].context.key){var r=n.error.details[0].context.key;Ra((0,i.Z)((0,i.Z)({},Wa),{},(0,t.Z)({},r,n.error.details[0].message)))}La(n.error.details[0].message||"Mohon Lengkapi Form!."),za(!1)},disabled:Xa,children:"indonesia"===e?"Daftar":"Submit"})]})})]})}))}}]);
//# sourceMappingURL=597.44205474.chunk.js.map